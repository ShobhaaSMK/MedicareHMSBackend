# Create Patient API Invoke Examples

## Endpoint
`POST http://localhost:4000/api/patients`

## cURL Example

```bash
curl -X POST http://localhost:4000/api/patients \
  -H "Content-Type: application/json" \
  -d '{
    "PatientName": "Ajay",
    "LastName": "Sharma",
    "PhoneNo": "735681273658",
    "Gender": "Male",
    "Age": 40,
    "Address": "Panchamukhi address",
    "AdhaarID": "123456789123",
    "PANCard": "CBXPS6666R",
    "PatientType": "OPD",
    "ChiefComplaint": "stomach pain",
    "Description": "stomach painstomach painstomach painstomach pain",
    "Status": "Active",
    "RegisteredBy": "Admin User"
  }'
```

## JavaScript Fetch Example

```javascript
fetch('http://localhost:4000/api/patients', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    PatientName: 'Ajay',
    LastName: 'Sharma',
    PhoneNo: '735681273658',
    Gender: 'Male',
    Age: 40,
    Address: 'Panchamukhi address',
    AdhaarID: '123456789123',
    PANCard: 'CBXPS6666R',
    PatientType: 'OPD',
    ChiefComplaint: 'stomach pain',
    Description: 'stomach painstomach painstomach painstomach pain',
    Status: 'Active',
    RegisteredBy: 'Admin User'
  })
})
  .then(response => response.json())
  .then(data => console.log('Success:', data))
  .catch(error => console.error('Error:', error));
```

## JavaScript Async/Await Example

```javascript
async function createPatient() {
  try {
    const response = await fetch('http://localhost:4000/api/patients', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        PatientName: 'Ajay',
        LastName: 'Sharma',
        PhoneNo: '735681273658',
        Gender: 'Male',
        Age: 40,
        Address: 'Panchamukhi address',
        AdhaarID: '123456789123',
        PANCard: 'CBXPS6666R',
        PatientType: 'OPD',
        ChiefComplaint: 'stomach pain',
        Description: 'stomach painstomach painstomach painstomach pain',
        Status: 'Active',
        RegisteredBy: 'Admin User'
      })
    });
    
    const data = await response.json();
    console.log('Success:', data);
    return data;
  } catch (error) {
    console.error('Error:', error);
    throw error;
  }
}

// Call the function
createPatient();
```

## Axios Example

```javascript
const axios = require('axios');

axios.post('http://localhost:4000/api/patients', {
  PatientName: 'Ajay',
  LastName: 'Sharma',
  PhoneNo: '735681273658',
  Gender: 'Male',
  Age: 40,
  Address: 'Panchamukhi address',
  AdhaarID: '123456789123',
  PANCard: 'CBXPS6666R',
  PatientType: 'OPD',
  ChiefComplaint: 'stomach pain',
  Description: 'stomach painstomach painstomach painstomach pain',
  Status: 'Active',
  RegisteredBy: 'Admin User'
})
  .then(response => {
    console.log('Success:', response.data);
  })
  .catch(error => {
    console.error('Error:', error.response?.data || error.message);
  });
```

## PowerShell Invoke-RestMethod Example

```powershell
$body = @{
    PatientName = "Ajay"
    LastName = "Sharma"
    PhoneNo = "735681273658"
    Gender = "Male"
    Age = 40
    Address = "Panchamukhi address"
    AdhaarID = "123456789123"
    PANCard = "CBXPS6666R"
    PatientType = "OPD"
    ChiefComplaint = "stomach pain"
    Description = "stomach painstomach painstomach painstomach pain"
    Status = "Active"
    RegisteredBy = "Admin User"
} | ConvertTo-Json

Invoke-RestMethod -Uri "http://localhost:4000/api/patients" `
    -Method Post `
    -ContentType "application/json" `
    -Body $body
```

## Important Notes:

1. **Field Name**: Use `AdhaarID` (capital ID), not `AdhaarId`
2. **RegisteredDate**: This field is not accepted by the API - it's auto-generated by the database
3. **Required Fields**: `PatientName`, `PhoneNo`, and `RegisteredBy` are required
4. **Validation**: 
   - `AdhaarID` must be exactly 12 digits
   - `PANCard` must be in format: ABCDE1234F (5 letters, 4 digits, 1 letter)
   - `Gender` must be "Male" or "Female"
   - `PatientType` must be "OPD", "IPD", "Emergency", or "Direct"
   - `Status` must be "Active" or "InActive"

## Expected Success Response:

```json
{
  "success": true,
  "message": "Patient registered successfully",
  "data": {
    "PatientId": 1,
    "PatientNo": "P2025_12_0001",
    "PatientName": "Ajay",
    "LastName": "Sharma",
    "PhoneNo": "735681273658",
    "Gender": "Male",
    "Age": 40,
    "Address": "Panchamukhi address",
    "AdhaarID": "123456789123",
    "PANCard": "CBXPS6666R",
    "PatientType": "OPD",
    "ChiefComplaint": "stomach pain",
    "Description": "stomach painstomach painstomach painstomach pain",
    "Status": "Active",
    "RegisteredBy": "Admin User",
    "RegisteredDate": "2025-12-04T..."
  }
}
```

